# æ™ºèƒ½å¹¿å‘ŠæŠ•æ”¾ - ç°å®åŒ–ROIç›®æ ‡é©±åŠ¨çš„æ‹‰æ–°å¹¿å‘Šç³»åˆ—åˆ›å»ºåœºæ™¯
# åŸºäºçœŸå®ä¸šåŠ¡å®è·µï¼Œé‡ç‚¹æµ‹è¯•AgentåŸºäºå®é™…çº¦æŸåˆ¶å®šå¯è¡ŒæŠ•æ”¾ç­–ç•¥çš„èƒ½åŠ›
# åŸºäºunified_scenario_template.yamlè®¾è®¡ï¼Œç¡®ä¿æ¶æ„ä¸€è‡´æ€§

scenario_name: "æ™ºèƒ½å¹¿å‘ŠæŠ•æ”¾ - ç°å®åŒ–ROIç›®æ ‡é©±åŠ¨çš„æ‹‰æ–°ç³»åˆ—åˆ›å»º"
sub_scenario_type: "realistic_roi_targeted_campaign_creation"
description: "ç”¨æˆ·åŸºäºçœŸå®ä¸šåŠ¡æƒ…å†µæå‡ºæ‹‰æ–°éœ€æ±‚ï¼ŒAgentéœ€è¦åŸºäºå®¢æˆ·ç»éªŒæ°´å¹³ã€è¡Œä¸šç‰¹ç‚¹ã€é¢„ç®—çº¦æŸåˆ¶å®šç°å®å¯è¡Œçš„æŠ•æ”¾ç­–ç•¥"

# è¿è¡Œæ—¶é…ç½®
runtime_config:
  system_time: "2025-07-16T10:00:00Z"
  timezone: "Asia/Shanghai"
  current_date_description: "ä»Šå¤©æ˜¯2025å¹´7æœˆ16æ—¥ï¼Œå½“å‰æ—¶é—´æ˜¯10:00ï¼Œå·¥ä½œæ—¥ä¸Šåˆæ˜¯å¹¿å‘Šç­–ç•¥è§„åˆ’çš„é»„é‡‘æ—¶æ®µ"

# MCPæœåŠ¡é…ç½®
mcp_service_config:
  service_name: "ad_campaign_service"
  service_description: "å¹¿å‘ŠæŠ•æ”¾åˆ›å»ºæœåŠ¡ - åŸºäºå®é™…ä¸šåŠ¡çº¦æŸçš„ç­–ç•¥åˆ¶å®š"
  service_endpoint: "http://127.0.0.1:8405/mcp/"

# å®ä½“å®šä¹‰ - æ•°æ®æ± ç»“æ„è®¾è®¡
entities:
  # ä¸»å®ä½“ - å¹¿å‘Šä¸»/å®¢æˆ·
  advertisers:
    display_name: "å¹¿å‘Šä¸»"
    description: "æŠ•æ”¾å¹¿å‘Šçš„å®¢æˆ·ä¸»ä½“ï¼ŒåŒ…å«çœŸå®ä¸šåŠ¡ç‰¹å¾"
    id_field: "advertiser_id"
    sample_count: 15
    
    attributes:
      # åŸºç¡€ä¿¡æ¯
      name:
        type: "string"
        description: "å¹¿å‘Šä¸»å…¬å¸åç§°"
        
      # ğŸ”¥ è¡Œä¸šç±»å‹ï¼ˆå†³å®šæ¸ é“é€‰æ‹©çš„æ ¸å¿ƒå› ç´ ï¼‰
      industry:
        type: "enum"
        values: ["B2C_ecommerce", "B2B_saas", "education", "finance", "healthcare"]
        description: "æ‰€å±è¡Œä¸šï¼Œç›´æ¥å½±å“æ¸ é“é€‰æ‹©å’ŒROIé¢„æœŸ"
        distribution: {"B2C_ecommerce": 0.4, "B2B_saas": 0.3, "education": 0.2, "finance": 0.1}
        
      # å®¢æˆ·ç­‰çº§
      tier_level:
        type: "enum"
        values: ["startup", "growth", "enterprise"]
        description: "å…¬å¸å‘å±•é˜¶æ®µï¼Œå½±å“é¢„ç®—è§„æ¨¡å’Œé£é™©æ‰¿å—èƒ½åŠ›"
        distribution: {"startup": 0.4, "growth": 0.4, "enterprise": 0.2}
      
      # ğŸ”¥ æ ¸å¿ƒç‰¹å¾1ï¼šå›¢é˜ŸæŠ•æ”¾ç»éªŒï¼ˆå†³å®šROIç›®æ ‡çš„å…³é”®å› ç´ ï¼‰
      channel_experience_level:
        type: "enum"
        values: ["beginner", "intermediate", "expert"]
        description: "å›¢é˜Ÿå¹¿å‘ŠæŠ•æ”¾ç»éªŒæ°´å¹³ï¼Œç›´æ¥å½±å“ROIç›®æ ‡è®¾å®š"
        distribution: {"beginner": 0.4, "intermediate": 0.4, "expert": 0.2}
        business_logic: "æ–°æ‰‹å›¢é˜ŸROIç›®æ ‡åº”æ›´ä¿å®ˆï¼Œä¸“å®¶å›¢é˜Ÿå¯ä»¥è®¾å®šæ›´é«˜ç›®æ ‡"
      
      # ğŸ”¥ æ ¸å¿ƒç‰¹å¾2ï¼šç°é‡‘æµçŠ¶å†µï¼ˆå†³å®šé¢„ç®—ç­–ç•¥çš„å…³é”®å› ç´ ï¼‰
      cash_flow_situation:
        type: "enum"
        values: ["tight", "stable", "abundant"]
        description: "å…¬å¸ç°é‡‘æµçŠ¶å†µï¼Œå½±å“æŠ•æ”¾ç­–ç•¥å’Œé£é™©æ‰¿å—åº¦"
        distribution: {"tight": 0.3, "stable": 0.5, "abundant": 0.2}
        business_logic: "ç°é‡‘æµç´§å¼ éœ€è¦å¿«é€Ÿè§æ•ˆï¼Œå……è£•å¯ä»¥å°è¯•é•¿æœŸç­–ç•¥"
      
      # ğŸ”¥ æ ¸å¿ƒç‰¹å¾3ï¼šç›®æ ‡ç”¨æˆ·ç¾¤ä½“ï¼ˆå½±å“æ¸ é“é€‰æ‹©ï¼‰
      primary_target_audience:
        type: "object"
        description: "ä¸»è¦ç›®æ ‡å®¢æˆ·ç¾¤ä½“ç‰¹å¾"
        properties:
          user_type: 
            type: "enum"
            values: ["consumers", "business_users", "professionals", "students"]
          age_category:
            type: "enum"
            values: ["young_adults_18_35", "middle_aged_35_50", "mature_50_plus"]
          decision_making_style:
            type: "enum"
            values: ["impulse_driven", "research_driven", "relationship_driven"]
      
        
      monthly_ad_budget_capacity:
        type: "float"
        range: [8000, 50000]
        description: "æœˆåº¦å¹¿å‘Šé¢„ç®—æ‰¿å—èƒ½åŠ›"
        tier_based: {
          "startup": [8000, 20000],
          "growth": [15000, 35000],
          "enterprise": [25000, 50000]
        }
      
      
      contact_email:
        type: "string"
        default: "marketing@example.com"
        
      registration_time:
        type: "datetime"
        description: "å®¢æˆ·æ³¨å†Œæ—¶é—´"
    
    relationships:
      - has_many: "campaigns"

  # å¹¿å‘Šæ´»åŠ¨å®ä½“
  campaigns:
    display_name: "å¹¿å‘Šæ´»åŠ¨"
    description: "åˆ›å»ºçš„æ‹‰æ–°å¹¿å‘Šæ´»åŠ¨"
    id_field: "campaign_id"
    sample_count: 18
    
    attributes:
      campaign_name:
        type: "string"
        description: "æ´»åŠ¨åç§°"
        
      campaign_type:
        type: "enum"
        values: ["user_acquisition"]
        description: "å›ºå®šä¸ºç”¨æˆ·è·å–ç±»å‹"
        default: "user_acquisition"
      
      # ğŸ”¥ ç°å®åŒ–ROIç›®æ ‡ï¼ˆåŸºäºç°é‡‘æµ+ç»éªŒæ°´å¹³ç»„åˆï¼‰
      target_roi:
        type: "float"
        range: [1.8, 3.8]
        description: "ROIç›®æ ‡ï¼ŒåŸºäºç°é‡‘æµçŠ¶å†µå’Œç»éªŒæ°´å¹³çš„åˆ†å±‚çŸ©é˜µè®¾å®š"
        cash_flow_experience_matrix: {
          "tight": {
            "beginner": 1.8,
            "intermediate": 2.0,
            "expert": 2.2
          },
          "stable": {
            "beginner": 2.0,
            "intermediate": 2.8,
            "expert": 3.5
          },
          "abundant": {
            "beginner": 2.5,
            "intermediate": 3.0,
            "expert": 3.8
          }
        }
        validation_rule: "å¿…é¡»ä¸advertiserçš„cash_flow_situationå’Œchannel_experience_levelç»„åˆåŒ¹é…"
        
      # é¢„ç®—é…ç½®
      total_budget:
        type: "float"
        range: [8000.0, 50000.0]
        description: "æ€»é¢„ç®—"
        tier_based: {
          "startup": [8000.0, 20000.0],
          "growth": [15000.0, 35000.0],
          "enterprise": [25000.0, 50000.0]
        }
      
      
      # æ¸ é“é¢„ç®—åˆ†é…ï¼ˆå®é™…æ•°æ®ç»“æ„ï¼šchannel_budgetså¯¹è±¡ï¼‰
      channel_budgets:
        type: "object"
        description: "æ¸ é“é¢„ç®—åˆ†é…å¯¹è±¡ï¼Œkeyä¸ºchannel_idï¼Œvalueä¸ºé¢„ç®—é‡‘é¢"
        properties:
          channel_001: {"type": "float", "description": "Googleæ¸ é“é¢„ç®—åˆ†é…"}
          channel_002: {"type": "float", "description": "Facebookæ¸ é“é¢„ç®—åˆ†é…"}  
          channel_003: {"type": "float", "description": "TikTokæ¸ é“é¢„ç®—åˆ†é…"}
          channel_004: {"type": "float", "description": "LinkedInæ¸ é“é¢„ç®—åˆ†é…"}
        example: {"channel_001": 3000.0, "channel_002": 16800.0}
      
      
      # ğŸ”¥ ç°å®åŒ–ç­–ç•¥ç±»å‹
      applied_strategy_type:
        type: "enum"
        values: ["cash_flow_conservative", "balanced_growth", "aggressive_scaling"]
        description: "å®é™…åº”ç”¨çš„ç­–ç•¥ç±»å‹ï¼ˆä»…ç”¨äºäººå·¥åˆ†æå’Œä¸šåŠ¡æŠ¥å‘Šï¼Œä¸å‚ä¸è‡ªåŠ¨éªŒè¯ï¼‰"
        validation: "none"
        reason: "ç­–ç•¥æ­£ç¡®æ€§é€šè¿‡å…·ä½“çº¦æŸéªŒè¯æ¥éšå¼åˆ¤æ–­ï¼ˆROIç›®æ ‡ã€æ¸ é“é€‰æ‹©ã€é¢„ç®—åˆ†é…ï¼‰ï¼Œæ— éœ€æ˜¾å¼éªŒè¯ç­–ç•¥æ ‡ç­¾"
      
      # é¢„æœŸè¡¨ç°ï¼ˆç°å®åŒ–ï¼‰
      expected_overall_roi:
        type: "float"
        range: [1.8, 4.0]
        description: "é¢„æœŸæ•´ä½“ROI"
        
      # æµ‹è¯•é¢„ç®—é¢„ç•™
      testing_reserve_budget:
        type: "float"
        range: [800.0, 5000.0]
        description: "é¢„ç•™ç”¨äºæµ‹è¯•å’Œä¼˜åŒ–çš„é¢„ç®—"
        calculation: "total_budget * 0.10 to 0.20"
      
        
      # æ´»åŠ¨çŠ¶æ€
      status:
        type: "enum"
        values: ["draft", "pending_approval", "testing", "optimizing"]
        description: "æ´»åŠ¨çŠ¶æ€"
        distribution: {"draft": 0.6, "pending_approval": 0.2, "testing": 0.15, "optimizing": 0.05}
      
      created_time:
        type: "datetime"
        description: "åˆ›å»ºæ—¶é—´"
        
      advertiser_id:
        type: "string"
        description: "å…³è”åˆ°advertisers"
    
    relationships:
      - belongs_to: "advertisers"

  # æ¸ é“å®ä½“ï¼ˆåŸºäºå®é™…ä¸šåŠ¡ç‰¹ç‚¹ï¼‰
  channels:
    display_name: "æŠ•æ”¾æ¸ é“"
    description: "å¯é€‰çš„å¹¿å‘ŠæŠ•æ”¾æ¸ é“ï¼ŒåŒ…å«çœŸå®ä¸šåŠ¡ç‰¹æ€§"
    id_field: "channel_id"
    sample_count: 4
    
    attributes:
      channel_name:
        type: "enum"
        values: ["google", "facebook", "tiktok", "linkedin"]
        description: "æ¸ é“åç§°"
      
      # å¯ç”¨çŠ¶æ€
      availability:
        type: "enum"
        values: ["available", "maintenance", "restricted"]
        description: "æ¸ é“å½“å‰çŠ¶æ€"
        distribution: {"available": 0.90, "maintenance": 0.05, "restricted": 0.05}
      
      # ğŸ”¥ åŸºäºå®é™…ä¸šåŠ¡çš„æ¸ é“ç‰¹æ€§
      startup_speed:
        type: "enum"
        values: ["fast", "medium", "slow"]
        description: "èµ·é‡é€Ÿåº¦ï¼Œå½±å“ç°é‡‘æµç´§å¼ å®¢æˆ·çš„é€‰æ‹©"
        channel_mapping: {
          "google": "fast",      # æœç´¢å¹¿å‘Šèµ·é‡æœ€å¿«
          "facebook": "medium",  # éœ€è¦å­¦ä¹ æœŸ
          "tiktok": "slow",      # å†…å®¹å‹ï¼Œéœ€è¦æ›´é•¿æµ‹è¯•æœŸ
          "linkedin": "slow"     # B2Bå†³ç­–å‘¨æœŸé•¿
        }
        
      business_suitability:
        type: "array"
        items: ["B2C_ecommerce", "B2B_saas", "education", "finance", "healthcare"]
        description: "é€‚åˆçš„ä¸šåŠ¡ç±»å‹"
        channel_mapping: {
          "google": ["B2C_ecommerce", "B2B_saas", "education", "finance", "healthcare"],
          "facebook": ["B2C_ecommerce", "education", "healthcare"],
          "tiktok": ["B2C_ecommerce"],
          "linkedin": ["B2B_saas", "finance", "education"]
        }
      
      # ç°å®çš„æœ€ä½æµ‹è¯•é¢„ç®—
      min_testing_budget:
        type: "float"
        description: "è·å¾—æœ‰æ•ˆæµ‹è¯•æ•°æ®çš„æœ€ä½é¢„ç®—è¦æ±‚"
        channel_mapping: {
          "google": 3000.0,    # æœç´¢å¹¿å‘Šæœ€ä½æµ‹è¯•é¢„ç®—
          "facebook": 3500.0,  # ç¤¾äº¤åª’ä½“å¹¿å‘Š
          "tiktok": 5000.0,    # å†…å®¹å‹å¹¿å‘Šéœ€è¦æ›´å¤šé¢„ç®—
          "linkedin": 4000.0   # B2Bå¹³å°æˆæœ¬è¾ƒé«˜
        }
      
      # é¢„æœŸROIèŒƒå›´ï¼ˆåŸºäºå®é™…æ•°æ®ï¼‰
      expected_roi_range:
        type: "object"
        description: "è¯¥æ¸ é“çš„çœŸå®ROIé¢„æœŸèŒƒå›´"
        properties:
          beginner: {"type": "object", "properties": {"min": {"type": "float"}, "max": {"type": "float"}}}
          intermediate: {"type": "object", "properties": {"min": {"type": "float"}, "max": {"type": "float"}}}
          expert: {"type": "object", "properties": {"min": {"type": "float"}, "max": {"type": "float"}}}
        channel_mapping: {
          "google": {
            "beginner": {"min": 1.8, "max": 2.5},
            "intermediate": {"min": 2.2, "max": 3.0},
            "expert": {"min": 2.8, "max": 3.8}
          },
          "facebook": {
            "beginner": {"min": 1.5, "max": 2.2},
            "intermediate": {"min": 2.0, "max": 2.8},
            "expert": {"min": 2.5, "max": 3.5}
          },
          "tiktok": {
            "beginner": {"min": 1.2, "max": 2.0},
            "intermediate": {"min": 1.8, "max": 2.8},
            "expert": {"min": 2.5, "max": 4.0}
          },
          "linkedin": {
            "beginner": {"min": 1.8, "max": 2.3},
            "intermediate": {"min": 2.2, "max": 2.9},
            "expert": {"min": 2.6, "max": 3.2}
          }
        }
    
    relationships:
      - has_many: "campaigns"


# ğŸ”¥ ç°å®åŒ–ä¸šåŠ¡è§„åˆ™ï¼šåŸºäºå®é™…çº¦æŸçš„ç­–ç•¥åˆ¶å®šè§„åˆ™
business_rules:
  rule_4_1:
    description: "åŸºäºå®¢æˆ·å®é™…æƒ…å†µåˆ¶å®šç°å®å¯è¡Œçš„ROIç›®æ ‡å’ŒæŠ•æ”¾ç­–ç•¥"
    difficulty: "high"
    trigger_type: "user_request"
    
    # ğŸ”¥ ç°å®åŒ–ç­–ç•¥è§„åˆ™çŸ©é˜µ
    realistic_strategy_rules:
      
      # ç°é‡‘æµç´§å¼ å‹å®¢æˆ·ç­–ç•¥
      cash_flow_conservative:
        description: "ç°é‡‘æµç´§å¼ ï¼Œéœ€è¦å¿«é€Ÿè§æ•ˆçš„å®¢æˆ·"
        selection_criteria:
          - "advertiser.cash_flow_situation == 'tight'"
          - "advertiser.channel_experience_level in ['beginner', 'intermediate']"
        
        strategy_requirements:
          channel_selection_rule: "é€‰æ‹©1ä¸ªèµ·é‡æœ€å¿«çš„æ¸ é“ï¼ˆGoogleæœç´¢ä¼˜å…ˆï¼‰"
          max_channels_limit: 1
          roi_target_rule: "ROIç›®æ ‡è®¾å®šä¿å®ˆï¼ˆä¸è¶…è¿‡2.2ï¼‰"
          budget_allocation_rule: "70%ä¸»æŠ•æ”¾ï¼Œ30%å¿«é€Ÿä¼˜åŒ–é¢„ç•™"
          timeline_expectation: "60å¤©å†…å¿…é¡»çœ‹åˆ°æ­£å‘ROI"
          preferred_channels: ["google"]
        
        validation_rules:
          - "len(selected_channels) == 1"
          - "target_roi <= 2.2"
          - "'google' in selected_channels"
          - "testing_reserve_budget >= total_budget * 0.30"
          - "expected_breakeven_days <= 60"
      
      # å¹³è¡¡å¢é•¿å‹å®¢æˆ·ç­–ç•¥
      balanced_growth:
        description: "æœ‰ç¨³å®šç°é‡‘æµï¼Œè¿½æ±‚å¯æ§å¢é•¿çš„å®¢æˆ·"
        selection_criteria:
          - "advertiser.cash_flow_situation == 'stable'"
          - "advertiser.total_budget >= 15000"
        
        strategy_requirements:
          channel_selection_rule: "2ä¸ªæ¸ é“ç»„åˆï¼Œä¸»æ¬¡åˆ†æ˜"
          max_channels_limit: 2
          roi_target_rule: "åŸºäºç»éªŒæ°´å¹³è®¾å®šåˆç†ROIç›®æ ‡"
          budget_allocation_rule: "80/20åˆ†é…ç­–ç•¥ï¼Œä¸»æ¸ é“80%"
          innovation_allowance: "å¯å°è¯•1ä¸ªç›¸å¯¹è¾ƒæ–°çš„æ¸ é“"
          
        validation_rules:
          - "len(selected_channels) == 2"
          - "primary_channel_ratio >= 0.80"
          - "target_roi matches experience_level expectations"
          - "total_budget >= 15000"
      
      # æ¿€è¿›æ‰©å¼ å‹å®¢æˆ·ç­–ç•¥
      aggressive_scaling:
        description: "ç°é‡‘æµå……è£•ï¼Œè¿½æ±‚å¿«é€Ÿè§„æ¨¡åŒ–çš„å®¢æˆ·"
        selection_criteria:
          - "advertiser.cash_flow_situation == 'abundant'"
          - "advertiser.channel_experience_level in ['intermediate', 'expert']"
        
        strategy_requirements:
          channel_selection_rule: "å¯é€‰æ‹©2-3ä¸ªæ¸ é“ï¼ŒåŒ…æ‹¬åˆ›æ–°æ¸ é“"
          max_channels_limit: 3
          roi_target_rule: "å¯ä»¥è®¾å®šæ›´é«˜çš„ROIç›®æ ‡"
          budget_allocation_rule: "å…è®¸æ›´åˆ†æ•£çš„æŠ•æ”¾æµ‹è¯•"
          risk_acceptance: "å¯æ¥å—æ›´é•¿çš„æŠ•èµ„å›æ”¶æœŸ"
          
        validation_rules:
          - "len(selected_channels) >= 2 and len(selected_channels) <= 3"
          - "target_roi >= 2.5"
          - "total_budget >= 25000"
    
    # ğŸ”¥ åŸºäºè¡Œä¸šçš„æ¸ é“åŒ¹é…è§„åˆ™ï¼ˆç¡¬çº¦æŸï¼‰
    industry_channel_matching_rules:
      B2C_ecommerce:
        required_channels: ["facebook"]  # å¿…é¡»é€‰æ‹©Facebook
        optional_channels: ["google", "tiktok"]
        avoid_channels: []
        reason: "B2Cç”µå•†å¿…é¡»é€‰æ‹©Facebookï¼ˆç”¨æˆ·è¦†ç›–å¹¿ï¼‰ï¼Œå¯æ­é…Googleæˆ–TikTok"
        
      B2B_saas:
        required_channels: ["google"]  # å¿…é¡»é€‰æ‹©Google
        optional_channels: ["linkedin"]
        avoid_channels: ["tiktok"]
        reason: "B2B SaaSå¿…é¡»é€‰æ‹©Googleï¼ˆä¸“ä¸šæ€§å¼ºï¼‰ï¼Œå¯æ­é…LinkedInï¼Œé¿å…TikTok"
        
      education:
        required_channels: ["google"]  # å¿…é¡»é€‰æ‹©Google
        optional_channels: ["facebook"]
        avoid_channels: []
        reason: "æ•™è‚²è¡Œä¸šå¿…é¡»é€‰æ‹©Googleï¼ˆå†…å®¹æƒå¨æ€§ï¼‰ï¼Œå¯æ­é…Facebook"
        
      finance:
        required_channels: ["google"]  # å¿…é¡»é€‰æ‹©Google
        optional_channels: ["linkedin"]
        avoid_channels: []
        reason: "é‡‘èè¡Œä¸šå¿…é¡»é€‰æ‹©Googleï¼ˆä¸“ä¸šå¯ä¿¡åº¦ï¼‰ï¼Œå¯æ­é…LinkedIn"
        
      healthcare:
        required_channels: ["google"]  # å¿…é¡»é€‰æ‹©Google
        optional_channels: ["facebook"]
        avoid_channels: []
        reason: "åŒ»ç–—è¡Œä¸šå¿…é¡»é€‰æ‹©Googleï¼ˆæƒå¨æ€§è¦æ±‚ï¼‰ï¼Œå¯æ­é…Facebook"
    
    # ğŸ”¥ é¢„ç®—çº¦æŸçš„å®¢è§‚è§„åˆ™
    budget_constraint_rules:
      minimum_viable_budget:
        rule: "æ€»é¢„ç®—å¿…é¡»æ»¡è¶³è‡³å°‘1ä¸ªæ¸ é“çš„æœ‰æ•ˆæµ‹è¯•"
        validation: "total_budget >= max(selected_channels.min_testing_budget)"
        
      single_channel_threshold:
        rule: "é¢„ç®—ä½äº10000å…ƒå»ºè®®å•æ¸ é“é›†ä¸­"
        validation: "if total_budget < 10000 then len(selected_channels) == 1"
        reason: "å°é¢„ç®—åˆ†æ•£æŠ•æ”¾æ— æ³•è·å¾—æœ‰æ•ˆæ•°æ®"
        
      multi_channel_requirement:
        rule: "å¤šæ¸ é“æŠ•æ”¾æ¯ä¸ªæ¸ é“å¿…é¡»æ»¡è¶³æœ€ä½æµ‹è¯•é¢„ç®—"
        validation: "for each channel: allocated_budget >= channel.min_testing_budget"
        
      testing_reserve_requirement:
        rule: "å¿…é¡»é¢„ç•™10-30%é¢„ç®—ç”¨äºä¼˜åŒ–è°ƒæ•´"
        validation: "testing_reserve_budget >= total_budget * 0.10"
        reason: "æ²¡æœ‰ä¼˜åŒ–é¢„ç®—æ— æ³•åŸºäºæ•°æ®è°ƒæ•´ç­–ç•¥"
    
    
    # Agentæ‰§è¡Œæ­¥éª¤ - åŸºäºMCP Tools  
    required_actions:
      - action: "get_advertiser_info"
        description: "æŸ¥è¯¢å¹¿å‘Šä¸»çš„è¯¦ç»†ä¿¡æ¯ï¼ˆè¡Œä¸šã€ç»éªŒæ°´å¹³ã€ç°é‡‘æµçŠ¶å†µï¼‰"
        sequence: 1
        tool_type: "READ"
        
      - action: "get_channel_info"
        description: "æŸ¥è¯¢æ¸ é“ä¿¡æ¯å’Œçº¦æŸæ¡ä»¶ï¼ˆèµ·é‡é€Ÿåº¦ã€ä¸šåŠ¡é€‚ç”¨æ€§ã€æœ€ä½æµ‹è¯•é¢„ç®—ï¼‰"
        sequence: 2
        tool_type: "READ"
        
      
      - action: "create_campaign"
        description: "åˆ›å»ºæ–°çš„å¹¿å‘ŠæŠ•æ”¾æ´»åŠ¨ï¼Œåº”ç”¨åŸºäºçº¦æŸçš„ç­–ç•¥å†³ç­–å’Œç”¨æˆ·åé¦ˆ"
        sequence: 3
        tool_type: "CREATE"
        
      - action: "create_optimization_log"
        description: "è®°å½•æ´»åŠ¨åˆ›å»ºæ“ä½œæ—¥å¿—"
        sequence: 4
        tool_type: "CREATE"
        
      - action: "create_user_notification"
        description: "å‘é€æ´»åŠ¨åˆ›å»ºå®Œæˆé€šçŸ¥"
        sequence: 5
        tool_type: "CREATE"
    
    required_parameters:
      advertiser_id:
        type: "string"
        description: "å¹¿å‘Šä¸»å”¯ä¸€æ ‡è¯†ç¬¦"
        
      total_budget:
        type: "float"  
        description: "æ€»é¢„ç®—é‡‘é¢"
        constraints: "å¿…é¡»æ»¡è¶³æœ€ä½æµ‹è¯•é¢„ç®—è¦æ±‚"

    # ğŸ”¥ åŸºäºç°æœ‰checkerçš„åŸå­åŒ–æˆåŠŸéªŒè¯æ ‡å‡†
    # è¯´æ˜ï¼šä»¥ä¸‹success_criteriaæŒ‰ä¸šåŠ¡å«ä¹‰åˆ†ç»„ï¼ˆåŸºç¡€æ“ä½œéªŒè¯ã€ç­–ç•¥çº¦æŸéªŒè¯ã€è¡Œä¸šçº¦æŸéªŒè¯ã€é¢„ç®—çº¦æŸéªŒè¯ï¼‰ï¼Œ
    # å®é™…æ ·æœ¬ç”Ÿæˆå™¨ä¼šå°†è¿™äº›åˆ†ç»„æ‰å¹³åŒ–ä¸ºå…·ä½“çš„check_listæ£€æŸ¥é¡¹ã€‚æ¯ä¸ªcheck_listé¡¹ä½¿ç”¨åŸå­åŒ–çš„checker
    # ç±»å‹ï¼ˆentity_attribute_comparison, create_operation_verifiedï¼‰è¿›è¡Œç«¯åˆ°ç«¯éªŒè¯ã€‚
    success_criteria:
      - criteria: "campaign_creation_verified"
        description: "éªŒè¯æ–°çš„å¹¿å‘Šæ´»åŠ¨æˆåŠŸåˆ›å»º"
        checker_type: "create_operation_verified"
        checker_config:
          entity_type: "campaigns"
          filter_conditions:
            campaign_type: "user_acquisition"
          min_count: 1
          
      
      - criteria: "user_notification_sent"
        description: "éªŒè¯å‘é€äº†ç”¨æˆ·é€šçŸ¥"
        checker_type: "create_operation_verified"
        checker_config:
          entity_type: "user_notifications"
          filter_conditions:
            notification_type: "campaign_created"
          min_count: 1
          
      - criteria: "operation_logged"
        description: "éªŒè¯è®°å½•äº†æ“ä½œæ—¥å¿—"
        checker_type: "create_operation_verified"
        checker_config:
          entity_type: "optimization_logs"
          filter_conditions:
            operation_type: "campaign_creation"
          min_count: 1
      
      - criteria: "realistic_strategy_application"
        description: "Agentå¿…é¡»åŸºäºå®¢æˆ·å®é™…æƒ…å†µåº”ç”¨ç°å®å¯è¡Œçš„ç­–ç•¥"
        verification_method: "atomic_constraint_validation"
        
        # ğŸ”¥ ç°é‡‘æµçº¦æŸçš„åŸå­åŒ–éªŒè¯
        cash_flow_constraint_validations:
          # ç´§å¼ ç°é‡‘æµå®¢æˆ·çš„çº¦æŸéªŒè¯
          - validation_name: "tight_cash_flow_single_channel"
            condition_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "advertisers"
              entity_id: "[ä»ç”¨æˆ·è¾“å…¥è·å–]"
              attribute: "cash_flow_situation"
              operator: "equals"
              expected_value: "tight"
            outcome_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "campaigns"
              entity_id: "latest_created"
              attribute: "channel_budgets"
              operator: "dict_len_equals"
              expected_value: 1
              
          - validation_name: "tight_cash_flow_conservative_roi"
            condition_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "advertisers"
              entity_id: "[ä»ç”¨æˆ·è¾“å…¥è·å–]"
              attribute: "cash_flow_situation" 
              operator: "equals"
              expected_value: "tight"
            outcome_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "campaigns"
              entity_id: "latest_created"
              attribute: "target_roi"
              operator: "less_than_or_equal"
              expected_value: 2.2
              
          - validation_name: "tight_cash_flow_google_selected"
            condition_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "advertisers"
              entity_id: "[ä»ç”¨æˆ·è¾“å…¥è·å–]"
              attribute: "cash_flow_situation"
              operator: "equals"
              expected_value: "tight"
            outcome_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "campaigns"
              entity_id: "latest_created"
              attribute: "channel_budgets.channel_001"  # Google = channel_001
              operator: "greater_than"
              expected_value: 0
              
          
          # å……è£•ç°é‡‘æµå®¢æˆ·çš„çº¦æŸéªŒè¯
          - validation_name: "abundant_cash_flow_multi_channel"
            condition_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "advertisers"
              entity_id: "[ä»ç”¨æˆ·è¾“å…¥è·å–]"
              attribute: "cash_flow_situation"
              operator: "equals"
              expected_value: "abundant"
            outcome_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "campaigns"
              entity_id: "latest_created"
              attribute: "channel_budgets"
              operator: "dict_len_equals"
              expected_value: 2
              
          - validation_name: "abundant_cash_flow_higher_roi"
            condition_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "advertisers"
              entity_id: "[ä»ç”¨æˆ·è¾“å…¥è·å–]"
              attribute: "cash_flow_situation"
              operator: "equals"
              expected_value: "abundant"
            outcome_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "campaigns"
              entity_id: "latest_created"
              attribute: "target_roi"
              operator: "greater_than_or_equal"
              expected_value: 2.5
        
        # ğŸ”¥ ç»éªŒæ°´å¹³çº¦æŸçš„åŸå­åŒ–éªŒè¯
        experience_level_validations:
          - validation_name: "beginner_conservative_roi"
            condition_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "advertisers"
              entity_id: "[ä»ç”¨æˆ·è¾“å…¥è·å–]"
              attribute: "channel_experience_level"
              operator: "equals"
              expected_value: "beginner"
            outcome_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "campaigns"
              entity_id: "latest_created"
              attribute: "target_roi"
              operator: "equals"
              expected_value: 2.0
              
          - validation_name: "expert_ambitious_roi"
            condition_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "advertisers"
              entity_id: "[ä»ç”¨æˆ·è¾“å…¥è·å–]"
              attribute: "channel_experience_level"
              operator: "equals"
              expected_value: "expert"
            outcome_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "campaigns"
              entity_id: "latest_created"
              attribute: "target_roi"
              operator: "greater_than_or_equal"
              expected_value: 3.0
      
      # ğŸ”¥ è¡Œä¸šæ¸ é“åŒ¹é…çš„åŸå­åŒ–éªŒè¯
      - criteria: "industry_channel_alignment"
        description: "æ¸ é“é€‰æ‹©å¿…é¡»ç¬¦åˆè¡Œä¸šç‰¹ç‚¹å’Œå®¢è§‚æœ€ä½³å®è·µ"
        verification_method: "atomic_industry_alignment"
        
        industry_matching_validations:
          - validation_name: "B2B_saas_google_channel_selected"
            condition_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "advertisers"
              entity_id: "[ä»ç”¨æˆ·è¾“å…¥è·å–]"
              attribute: "industry"
              operator: "equals"
              expected_value: "B2B_saas"
            outcome_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "campaigns"
              entity_id: "latest_created"
              attribute: "channel_budgets.channel_001"
              operator: "greater_than"
              expected_value: 0
              
          - validation_name: "B2C_ecommerce_visual_channel"
            condition_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "advertisers"
              entity_id: "[ä»ç”¨æˆ·è¾“å…¥è·å–]"
              attribute: "industry"
              operator: "equals"
              expected_value: "B2C_ecommerce"
            outcome_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "campaigns"
              entity_id: "latest_created"
              attribute: "channel_budgets.channel_002"  # Facebook = channel_002
              operator: "greater_than"
              expected_value: 0
              
          - validation_name: "B2B_saas_avoid_tiktok"
            condition_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "advertisers"
              entity_id: "[ä»ç”¨æˆ·è¾“å…¥è·å–]"
              attribute: "industry"
              operator: "equals"
              expected_value: "B2B_saas"
            outcome_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "campaigns"
              entity_id: "latest_created"
              attribute: "channel_budgets.channel_003"  # TikTok = channel_003
              operator: "equals"
              expected_value: 0
      
      # ğŸ”¥ é¢„ç®—çº¦æŸçš„åŸå­åŒ–éªŒè¯
      - criteria: "budget_constraint_compliance"
        description: "é¢„ç®—åˆ†é…å¿…é¡»æ»¡è¶³å®é™…å¯æ“ä½œçš„æœ€ä½è¦æ±‚"
        verification_method: "atomic_budget_validation"
        
        budget_validations:
          - validation_name: "sufficient_testing_budget"
            checker_type: "entity_attribute_comparison"
            entity_type: "campaigns"
            entity_id: "latest_created"
            attribute: "testing_reserve_budget"
            operator: "greater_than_or_equal"
            expected_value: 800
            
          - validation_name: "small_budget_single_channel"
            condition_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "campaigns"
              entity_id: "latest_created"
              attribute: "total_budget"
              operator: "less_than"
              expected_value: 10000
            outcome_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "campaigns"
              entity_id: "latest_created"
              attribute: "channel_budgets"
              operator: "dict_len_equals"
              expected_value: 1
              
          - validation_name: "google_channel_budget_sufficient"
            condition_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "campaigns"
              entity_id: "latest_created"
              attribute: "channel_budgets.channel_001"
              operator: "greater_than"
              expected_value: 0
            outcome_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "campaigns"
              entity_id: "latest_created"
              attribute: "channel_budgets.channel_001"
              operator: "greater_than_or_equal"
              expected_value: 3000
              
          - validation_name: "facebook_channel_budget_sufficient"
            condition_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "campaigns"
              entity_id: "latest_created"
              attribute: "channel_budgets.channel_002"
              operator: "greater_than"
              expected_value: 0
            outcome_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "campaigns"
              entity_id: "latest_created"
              attribute: "channel_budgets.channel_002"
              operator: "greater_than_or_equal"
              expected_value: 3500
    
    # æ ·æœ¬ç”Ÿæˆé…ç½®
    sample_generation:
      user_initiated: true
      creation_scenario: "åŸºäºå®é™…çº¦æŸçš„ç°å®åŒ–æ‹‰æ–°ç­–ç•¥åˆ¶å®š"
      
      # ç°å®åŒ–ç”¨æˆ·è¯·æ±‚æ¨¡æ¿ - è‡ªç„¶å¯¹è¯æ–¹å¼
      query_templates:
        - "æˆ‘ä»¬æƒ³åšä¸€ä¸ªæ‹‰æ–°æ´»åŠ¨ï¼Œé¢„ç®—å¤§æ¦‚{total_budget}å…ƒï¼Œè¯·å¸®æˆ‘åˆ¶å®šæŠ•æ”¾æ–¹æ¡ˆã€‚[å¹¿å‘Šä¸»IDï¼š{advertiser_id}]"
        - "å…¬å¸å‡†å¤‡æŠ•{total_budget}å…ƒåšç”¨æˆ·è·å–ï¼Œå¸Œæœ›èƒ½ç»™ä¸ªä¸“ä¸šçš„å»ºè®®ã€‚[å¹¿å‘Šä¸»IDï¼š{advertiser_id}]"
        - "è®¡åˆ’èŠ±{total_budget}å…ƒåšå¹¿å‘Šæ‹‰æ–°ï¼Œè¯·æ ¹æ®æˆ‘ä»¬çš„æƒ…å†µæ¨èåˆé€‚çš„ç­–ç•¥ã€‚[å¹¿å‘Šä¸»IDï¼š{advertiser_id}]"
      
      # ç°å®åŒ–çš„æµ‹è¯•å˜ä½“
      data_variations:
        - variation: "tight_cash_flow_beginner"
          description: "ç°é‡‘æµç´§å¼ çš„æ–°æ‰‹å®¢æˆ·"
          advertiser_config:
            cash_flow_situation: "tight"
            channel_experience_level: "beginner" 
            total_budget_range: [8000, 12000]
            industry: "B2C_ecommerce"
          expected_strategy: "å•æ¸ é“Facebookï¼ŒROIç›®æ ‡1.8ï¼Œ30%ä¼˜åŒ–é¢„ç•™"
          
        - variation: "stable_intermediate_B2B"
          description: "ç¨³å®šç°é‡‘æµçš„B2Bä¸­ç­‰ç»éªŒå®¢æˆ·"
          advertiser_config:
            cash_flow_situation: "stable"
            channel_experience_level: "intermediate"
            total_budget_range: [18000, 25000]
            industry: "B2B_saas"
          expected_strategy: "Google+LinkedInç»„åˆï¼ŒROIç›®æ ‡2.8ï¼Œ80/20åˆ†é…"
          
        - variation: "abundant_expert_scaling"
          description: "ç°é‡‘æµå……è£•çš„ä¸“å®¶çº§æ‰©é‡å®¢æˆ·"  
          advertiser_config:
            cash_flow_situation: "abundant"
            channel_experience_level: "expert"
            total_budget_range: [30000, 50000]
            industry: "B2C_ecommerce"
          expected_strategy: "å¤šæ¸ é“ç»„åˆï¼ŒROIç›®æ ‡3.8ï¼Œåˆ›æ–°æ¸ é“æµ‹è¯•"
      
      # AgentèŒè´£ï¼ˆç°å®åŒ–ï¼‰
      agent_responsibilities:
        - "å‡†ç¡®è¯†åˆ«å®¢æˆ·çš„å®é™…çº¦æŸæ¡ä»¶ï¼ˆç°é‡‘æµã€ç»éªŒã€é¢„ç®—ï¼‰"
        - "åŸºäºç»éªŒæ°´å¹³è®¾å®šç°å®å¯è¾¾çš„ROIç›®æ ‡"
        - "æ ¹æ®è¡Œä¸šç‰¹ç‚¹é€‰æ‹©æœ€é€‚åˆçš„æ¸ é“ç»„åˆ"
        - "åˆ¶å®šé˜¶æ®µåŒ–çš„é¢„ç®—åˆ†é…å’Œæ‰§è¡Œè®¡åˆ’"
        - "è¯†åˆ«å…³é”®é£é™©å¹¶æä¾›åº”æ€¥è°ƒæ•´æ–¹æ¡ˆ"
        - "ç¡®ä¿ç­–ç•¥åœ¨å®é™…çº¦æŸä¸‹å¯æ‰§è¡Œ"
      
      expected_outcome:
        type: "realistic_strategy_implementation"
        scenario_classification: "constraint_based_campaign_creation"

# ============================================
# é¢„æœŸç­”æ¡ˆåˆæˆç®—æ³•è®¾è®¡
# ============================================
# æè¿°å¦‚ä½•åŸºäºadvertiserçº¦æŸç”Ÿæˆç°å®å¯è¡Œçš„é¢„ç®—å’ŒéªŒè¯æ£€æŸ¥é¡¹

expected_answer_synthesis_algorithm:
  algorithm_name: "Budget Generation and Constraint Validation Algorithm"
  algorithm_type: "åŸºäºç°å®çº¦æŸçš„ç¡®å®šæ€§é¢„ç®—ç”Ÿæˆå’ŒéªŒè¯ç®—æ³•"

  core_design_principles:
    realism: "é¢„ç®—åŸºäºadvertiserå®é™…çº¦æŸæ¡ä»¶ç”Ÿæˆï¼Œç¡®ä¿å¯è¡Œæ€§"
    feasibility: "é¢„ç®—æ»¡è¶³è¡Œä¸šæ¸ é“çš„æœ€ä½æµ‹è¯•è¦æ±‚"
    determinism: "ç›¸åŒçº¦æŸè¾“å…¥äº§ç”Ÿç¡®å®šçš„éªŒè¯æ£€æŸ¥é¡¹"
    discretization: "é¢„ç®—ç¦»æ•£åŒ–å‡å°‘æµ®ç‚¹æ•°æ¯”è¾ƒè¯¯åˆ¤"

  algorithm_components:

    budget_calculation:
      description: "æ ¹æ®advertiserçº¦æŸè®¡ç®—ç°å®å¯è¡Œçš„é¢„ç®—"
      input: "advertiserï¼ˆcash_flow_situation, tier_level, monthly_ad_budget_capacity, industryï¼‰"
      output: "ç¦»æ•£åŒ–çš„æ€»é¢„ç®—é‡‘é¢ï¼ˆå…ƒï¼‰"

      calculation_steps:
        step_1_minimum_budget:
          description: "è®¡ç®—æœ€ä½é¢„ç®—éœ€æ±‚"
          logic:
            - "æ ¹æ®è¡Œä¸šç¡®å®šå¿…é€‰æ¸ é“ï¼šB2B_saasâ†’Google(3000å…ƒ), B2C_ecommerceâ†’Facebook(3500å…ƒ), education/finance/healthcareâ†’Google(3000å…ƒ)"
            - "tightç°é‡‘æµéœ€é¢„ç•™30%ä¼˜åŒ–é¢„ç®—ï¼šæ€»é¢„ç®— = æ¸ é“é¢„ç®— / 0.7"
            - "å…¶ä»–ç°é‡‘æµï¼šæ€»é¢„ç®— = æ¸ é“é¢„ç®—"
          formula: "min_required = channel.min_testing_budget / allocation_ratio"

        step_2_budget_range:
          description: "åŸºäºç°é‡‘æµç¡®å®šé¢„ç®—èŒƒå›´"
          tight_cash_flow:
            base: "æœ€ä½éœ€æ±‚"
            multiplier: "1.0~1.8ï¼ˆä¿å®ˆç­–ç•¥ï¼‰"
          stable_cash_flow:
            base: "max(æœ€ä½éœ€æ±‚, 15000)"
            multiplier: "1.1~2.0ï¼ˆé€‚åº¦å¢é•¿ï¼‰"
          abundant_cash_flow:
            base: "max(æœ€ä½éœ€æ±‚, 25000)"
            multiplier: "1.2~2.2ï¼ˆå……è£•æ‰©å¼ ï¼‰"

        step_3_tier_adjustment:
          description: "æŒ‰å…¬å¸å‘å±•é˜¶æ®µè°ƒæ•´"
          startup: "å€æ•°Ã—0.7~1.0"
          growth: "ä¸è°ƒæ•´"
          enterprise: "å€æ•°Ã—1.2~1.5"

        step_4_capacity_limit:
          description: "åº”ç”¨æœˆåº¦é¢„ç®—ä¸Šé™"
          constraint: "é¢„ç®—â‰¤æœˆåº¦æ‰¿å—èƒ½åŠ›Ã—0.7"

        step_5_discretization:
          description: "é¢„ç®—ç¦»æ•£åŒ–ç­–ç•¥"
          thousand_rounding: "å…ˆæŒ‰åƒå…ƒå–æ•´"
          stable_cash_flow: "é‡åŒ–ä¸º5000å€æ•°ï¼Œä¸‹ç•Œ15000"
          abundant_cash_flow: "é‡åŒ–ä¸º20000å€æ•°ï¼Œä¸‹ç•Œ20000"
          tight_cash_flow: "ä¿æŒåƒå…ƒå–æ•´"
          rationale: "é¿å…æµ®ç‚¹æ•°ç²¾åº¦å¯¼è‡´ä¸»æ¸ é“é¢„ç®—æ¯”ä¾‹åˆ¤æ–­é”™è¯¯"

    constraint_validation_generation:
      description: "æ ¹æ®advertiserçº¦æŸåŠ¨æ€ç”ŸæˆéªŒè¯æ£€æŸ¥é¡¹"
      input: "advertiserå¯¹è±¡, total_budgeté‡‘é¢"
      output: "check_listæ£€æŸ¥é¡¹åˆ—è¡¨"

      deduplication_mechanism:
        description: "ä½¿ç”¨å­—å…¸å»é‡æœºåˆ¶"
        structure: "constraint_items = {constraint_id: check_config}"
        benefit: "é¿å…å¤šçº¦æŸäº§ç”Ÿé‡å¤æ£€æŸ¥ï¼ˆå¦‚B2B+tightéƒ½è¦æ±‚Googleï¼‰"

      check_categories:
        basic_operations:
          count: 3
          items:
            - "campaignåˆ›å»ºéªŒè¯"
            - "optimization_logè®°å½•éªŒè¯"
            - "user_notificationå‘é€éªŒè¯"

        budget_reasonableness:
          count: 1
          check: "æ€»é¢„ç®—â‰¤ç”¨æˆ·æŒ‡å®šé¢„ç®—"

        cash_flow_constraints:
          tight:
            - "æ¸ é“æ•°é‡=1"
            - "å”¯ä¸€æ¸ é“é¢„ç®—â‰¤æ€»é¢„ç®—Ã—0.7"
          stable:
            - "ä¸»æ¸ é“é¢„ç®—â‰¥79.5%ä¸”â‰¤80.5%ï¼ˆå¤šæ¸ é“æ—¶ï¼‰"
            - "æ¸ é“æ•°é‡1~3ä¸ª"
          abundant:
            - "ä¸»æ¸ é“é¢„ç®—â‰¥64.5%ä¸”â‰¤65.5%ï¼ˆå¤šæ¸ é“æ—¶ï¼‰"
            - "æ¸ é“æ•°é‡1~3ä¸ª"

        industry_constraints:
          B2B_saas: "Googleæ¸ é“é¢„ç®—>0"
          B2C_ecommerce: "Facebookæ¸ é“é¢„ç®—>0"
          education_finance_healthcare: "Googleæ¸ é“é¢„ç®—>0"

        experience_constraints:
          description: "ä»layered_roi_matrixæŸ¥è¯¢ROIç›®æ ‡"
          check: "target_roi = roi_matrix[cash_flow][experience]"
          examples:
            - "tight+beginner â†’ 1.8"
            - "stable+intermediate â†’ 2.8"
            - "abundant+expert â†’ 3.8"

        channel_budget_constraints:
          small_budget_or_tight:
            condition: "é¢„ç®—<10000 æˆ– ç°é‡‘æµ=tight"
            check: "æ¸ é“æ•°é‡=1"
          multi_channel:
            condition: "é¢„ç®—â‰¥10000 ä¸” ç°é‡‘æµâ‰ tight"
            checks:
              - "æ¸ é“æ•°é‡â‰¤3"
              - "æ¯ä¸ªæ¸ é“â‰¥min_testing_budget"
              - "ä¸»æ¸ é“é¢„ç®—åˆ†é…æ¯”ä¾‹ï¼ˆstable:80%, abundant:65%ï¼‰"

  algorithm_workflow:
    step_1_load_data:
      action: "åŠ è½½æ•°æ®æ± "
      sources:
        - "advertisersæ•°æ®ï¼ˆåŒ…å«çº¦æŸæ¡ä»¶ï¼‰"
        - "channelsæ•°æ®ï¼ˆåŒ…å«æœ€ä½é¢„ç®—è¦æ±‚ï¼‰"
        - "ä¸šåŠ¡è§„åˆ™æ–‡æ¡£"
        - "ROIçŸ©é˜µé…ç½®"

    step_2_select_advertisers:
      action: "é€‰æ‹©å¤šæ ·åŒ–advertisers"
      strategy: "æŒ‰çº¦æŸç»„åˆåˆ†ç»„ï¼Œä¼˜å…ˆè¦†ç›–å…³é”®ç»„åˆ"
      key_combinations:
        - "tight_beginner"
        - "stable_intermediate"
        - "abundant_expert"
        - "å„è¡Œä¸šç±»å‹"

    step_3_generate_samples:
      action: "ä¸ºæ¯ä¸ªadvertiserç”Ÿæˆæ ·æœ¬"
      steps:
        - "è®¡ç®—ç°å®å¯è¡Œçš„é¢„ç®—"
        - "æ„å»ºmock_dbç¯å¢ƒ"
        - "ç”Ÿæˆç”¨æˆ·query"
        - "ç”ŸæˆéªŒè¯æ£€æŸ¥é¡¹"
        - "ç”Ÿæˆsystem prompt"
        - "ç»„è£…å®Œæ•´æ ·æœ¬"

    step_4_quality_assurance:
      checks:
        - "çº¦æŸè¦†ç›–åº¦éªŒè¯"
        - "é¢„ç®—ä¸æ£€æŸ¥é¡¹ä¸€è‡´æ€§"
        - "æ ·æœ¬å¯å¤ç°æ€§"

  algorithm_key_insights:
    why_budget_discretization:
      problem: "æµ®ç‚¹æ•°ç²¾åº¦å¯¼è‡´é¢„ç®—æ¯”ä¾‹åˆ¤æ–­é”™è¯¯"
      example: "15000å…ƒÃ—80%åº”ä¸º12000å…ƒï¼Œè€Œé12000.000000001"
      solution: "stableç”¨5000å€æ•°ï¼Œabundantç”¨20000å€æ•°"
      benefit: "é¿å…ç­‰å€¼æ£€æŸ¥è¯¯åˆ¤"

    why_constraint_dict:
      problem: "å¤šçº¦æŸå¯èƒ½äº§ç”Ÿé‡å¤æ£€æŸ¥"
      example: "B2B+tightéƒ½è¦æ±‚Google"
      solution: "å­—å…¸å»é‡ï¼Œkeyä¸ºçº¦æŸæ ‡è¯†"
      benefit: "æ¯ä¸ªçº¦æŸåªéªŒè¯ä¸€æ¬¡"

    why_tight_70percent:
      reason: "ç´§å¼ ç°é‡‘æµéœ€é¢„ç•™ä¼˜åŒ–é¢„ç®—"
      constraint: "ä¸»æ¸ é“â‰¤70%ï¼Œé¢„ç•™30%"
      benefit: "ç¡®ä¿å¿«é€Ÿè°ƒæ•´èƒ½åŠ›"

    why_roi_matrix:
      reason: "ROIç›®æ ‡éœ€åŒ¹é…ç°å®èƒ½åŠ›"
      dimensions: "3ç°é‡‘æµÃ—3ç»éªŒ=9ç»„åˆ"
      range: "1.8~3.8"
      benefit: "ç›®æ ‡æ—¢æœ‰æŒ‘æˆ˜åˆå¯è¾¾"

    why_industry_hard_constraint:
      reason: "è¡Œä¸šæ¸ é“ç‰¹æ€§å·®å¼‚æ˜¾è‘—"
      constraints:
        B2B: "Googleï¼ˆä¸“ä¸šæœç´¢ï¼‰"
        B2C: "Facebookï¼ˆç¤¾äº¤è´­ç‰©ï¼‰"
        education_finance_healthcare: "Googleï¼ˆæƒå¨æ€§ï¼‰"

    why_dynamic_checks:
      reason: "ä¸åŒçº¦æŸéœ€ä¸åŒéªŒè¯"
      solution: "æ ¹æ®çº¦æŸåŠ¨æ€ç”Ÿæˆæ£€æŸ¥é¡¹"
      benefit: "ç²¾ç¡®éªŒè¯ï¼Œé¿å…è¯¯æŠ¥æ¼æŠ¥"

  sample_quality_criteria:
    diversity: "è¦†ç›–å…³é”®çº¦æŸç»„åˆ"
    consistency: "é¢„ç®—ç”Ÿæˆä¸æ£€æŸ¥é¡¹åŒæ­¥"
    determinism: "ç›¸åŒçº¦æŸäº§ç”Ÿç›¸åŒç»“æœ"
    realism: "é¢„ç®—æ»¡è¶³ä¸šåŠ¡å¯è¡Œæ€§"

# Rule Engineæ‰§è¡Œé…ç½®
rule_execution_mapping:
  rule_4_1:
    scenario_type: "constraint_based_campaign_creation"
    explanation: "åŸºäºå®¢æˆ·å®é™…çº¦æŸåˆ¶å®šç°å®å¯è¡Œçš„æ‹‰æ–°æŠ•æ”¾ç­–ç•¥"
    method_name: "_calculate_realistic_campaign_creation_logic"
    expected_outcome_type: "realistic_strategy_implementation"
    complexity_level: "high"

# æ£€æŸ¥å™¨ç±»å‹æ˜ å°„ï¼ˆä»…ä½¿ç”¨ç°æœ‰checkerï¼Œæ— éœ€æ–°å¢HITLä¸“ç”¨checkerï¼‰
checker_type_mapping:
  entity_attribute_comparison: "entity_attribute_comparison_checker"
  create_operation_verified: "create_operation_verified_checker"
  # ğŸ”¥ æ³¨æ„ï¼šHITLéªŒè¯å®Œå…¨åŸºäºç°æœ‰checkerï¼Œæ— éœ€æ–°å¢ä¸“ç”¨éªŒè¯å™¨

# åœºæ™¯ç±»å‹æ˜ å°„
scenario_type_mapping:
  "realistic_strategy_implementation": "constraint_based_campaign_creation"

# ğŸ”¥ ç°å®åŒ–ç­–ç•¥é…ç½®çŸ©é˜µ
# è¯´æ˜ï¼šä»…ä¿ç•™ä»£ç å®é™…ä½¿ç”¨çš„é…ç½®ï¼Œå…¶ä»–çº¦æŸè§„åˆ™å·²å†…åµŒåœ¨business_rulesä¸­
realistic_strategy_config:
  # åˆ†å±‚ROIçŸ©é˜µï¼ˆç°é‡‘æµçŠ¶å†µ + ç»éªŒæ°´å¹³ï¼‰ - è¢«åˆæˆå™¨ä»£ç ä½¿ç”¨
  layered_roi_matrix:
    tight:
      beginner: 1.8
      intermediate: 2.0
      expert: 2.2
    stable:
      beginner: 2.0
      intermediate: 2.8
      expert: 3.5
    abundant:
      beginner: 2.5
      intermediate: 3.0
      expert: 3.8

  # å…¶ä»–çº¦æŸè§„åˆ™è¯´æ˜ï¼ˆå·²å†…åµŒåœ¨business_rules.realistic_strategy_rulesä¸­ï¼‰:
  # - ç°é‡‘æµç­–ç•¥æ˜ å°„: tightâ†’å•æ¸ é“Google, stableâ†’åŒæ¸ é“80/20, abundantâ†’å¤šæ¸ é“65/35
  # - è¡Œä¸šæ¸ é“çº¦æŸ: B2Cå¿…é€‰Facebook, B2Bå¿…é€‰Google, æ•™è‚²/é‡‘è/åŒ»ç–—å¿…é€‰Google
  # - æ¸ é“æ•°é‡çº¦æŸ: å°é¢„ç®—æˆ–tightç°é‡‘æµé™åˆ¶1ä¸ªæ¸ é“ï¼Œå…¶ä»–æƒ…å†µ1-3ä¸ªæ¸ é“
  # å®é™…åˆæˆå™¨å°†è¿™äº›è§„åˆ™è½¬åŒ–ä¸ºçº¦æŸéªŒè¯é€»è¾‘ï¼Œä¸ä»é…ç½®è¯»å–

# ä¸€è‡´æ€§éªŒè¯è§„åˆ™
consistency_rules:
  realistic_constraint_consistency:
    - rule: "ROIç›®æ ‡å¿…é¡»ä¸å›¢é˜Ÿç»éªŒæ°´å¹³åŒ¹é…"
    - rule: "æ¸ é“é€‰æ‹©å¿…é¡»ç¬¦åˆè¡Œä¸šç‰¹ç‚¹"
    - rule: "é¢„ç®—åˆ†é…å¿…é¡»æ»¡è¶³æœ€ä½æµ‹è¯•é¢„ç®—è¦æ±‚"
    - rule: "ç°é‡‘æµç´§å¼ å®¢æˆ·å¿…é¡»é€‰æ‹©èµ·é‡å¿«çš„æ¸ é“"
  
  budget_feasibility_consistency:
    - rule: "æ€»é¢„ç®—å¿…é¡»èƒ½æ”¯æ’‘é€‰æ‹©çš„æ¸ é“æ•°é‡"
    - rule: "æ¯ä¸ªæ¸ é“åˆ†é…é¢„ç®—ä¸å¾—ä½äºæœ€ä½æµ‹è¯•è¦æ±‚"
    - rule: "å¿…é¡»é¢„ç•™è¶³å¤Ÿçš„ä¼˜åŒ–è°ƒæ•´é¢„ç®—"
  
  timeline_expectation_consistency:
    - rule: "ç°é‡‘æµç´§å¼ å®¢æˆ·çš„æŠ•èµ„å›æ”¶æœŸé¢„æœŸæ›´çŸ­"
    - rule: "æ–°æ‰‹å›¢é˜Ÿçš„ä¼˜åŒ–å‘¨æœŸåº”è¯¥æ›´é•¿"
    - rule: "B2Bä¸šåŠ¡çš„è½¬åŒ–å‘¨æœŸå¤©ç„¶æ›´é•¿"

# åœºæ™¯å…ƒæ•°æ®
metadata:
  version: "2.0"
  sub_scenario_id: "constraint_based_campaign_creation"
  template_type: "realistic_constraint_based_scenario"
  complexity_level: "high"
  based_on: "2024-2025å¹´çœŸå®å¹¿å‘ŠæŠ•æ”¾ä¸šåŠ¡å®è·µå’Œå¸‚åœºæ•°æ®"
  design_principle: "ç°å®çº¦æŸé©±åŠ¨ï¼Œå®¢è§‚éªŒè¯æ ‡å‡†ï¼Œå¯æ‰§è¡Œç­–ç•¥"

# Rule Engineä»£ç ç”Ÿæˆé…ç½®  
code_generation_config:
  class_name: "RealisticCampaignCreationRuleEngine"
  scenario_abbreviation: "RCC"
  supported_entities: ["advertisers", "campaigns", "channels", "strategy_recommendations"]
  
  constraint_based_logic_support: true
  realistic_roi_calculation_methods: true
  industry_channel_matching_methods: true
  
  method_template: "_calculate_{method_name}_logic"
  constraint_template: "_validate_{constraint_type}_constraint"
  
  default_error_response:
    check_list: []
    environment_description: "ç°å®çº¦æŸéªŒè¯å¤±è´¥æˆ–ç­–ç•¥ä¸å¯è¡Œ"

# ç”Ÿæˆé€‰é¡¹
generation_options:
  sample_count_per_rule: 3  # æ¯ç§çº¦æŸç±»å‹ä¸€ä¸ªæ ·æœ¬
  include_edge_cases: true   # åŒ…å«è¾¹ç•Œçº¦æŸæƒ…å†µ
  generate_negative_samples: false
  auto_consistency_check: true
  realistic_constraint_samples: true